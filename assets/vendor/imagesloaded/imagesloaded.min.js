/*!
 * imagesLoaded PACKAGED v3.1.4
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
(function(){function f(){}function h(b,c){for(var d=b.length;d--;)if(b[d].listener===c)return d;return-1}function e(b){return function(){return this[b].apply(this,arguments)}}var a=f.prototype,l=this,g=l.EventEmitter;a.getListeners=function(b){var c,d,k=this._getEvents();if("object"==typeof b)for(d in c={},k)k.hasOwnProperty(d)&&b.test(d)&&(c[d]=k[d]);else c=k[b]||(k[b]=[]);return c};a.flattenListeners=function(b){var c,d=[];for(c=0;b.length>c;c+=1)d.push(b[c].listener);return d};a.getListenersAsObject=
function(b){var c,d=this.getListeners(b);return d instanceof Array&&(c={},c[b]=d),c||d};a.addListener=function(b,c){var d,k=this.getListenersAsObject(b),a="object"==typeof c;for(d in k)k.hasOwnProperty(d)&&-1===h(k[d],c)&&k[d].push(a?c:{listener:c,once:!1});return this};a.on=e("addListener");a.addOnceListener=function(b,c){return this.addListener(b,{listener:c,once:!0})};a.once=e("addOnceListener");a.defineEvent=function(b){return this.getListeners(b),this};a.defineEvents=function(b){for(var c=0;b.length>
c;c+=1)this.defineEvent(b[c]);return this};a.removeListener=function(b,c){var d,k,a=this.getListenersAsObject(b);for(k in a)a.hasOwnProperty(k)&&(d=h(a[k],c),-1!==d&&a[k].splice(d,1));return this};a.off=e("removeListener");a.addListeners=function(b,c){return this.manipulateListeners(!1,b,c)};a.removeListeners=function(b,c){return this.manipulateListeners(!0,b,c)};a.manipulateListeners=function(b,c,d){var a,g,e=b?this.removeListener:this.addListener;b=b?this.removeListeners:this.addListeners;if("object"!=
typeof c||c instanceof RegExp)for(a=d.length;a--;)e.call(this,c,d[a]);else for(a in c)c.hasOwnProperty(a)&&(g=c[a])&&("function"==typeof g?e.call(this,a,g):b.call(this,a,g));return this};a.removeEvent=function(b){var c,d=typeof b,a=this._getEvents();if("string"===d)delete a[b];else if("object"===d)for(c in a)a.hasOwnProperty(c)&&b.test(c)&&delete a[c];else delete this._events;return this};a.removeAllListeners=e("removeEvent");a.emitEvent=function(b,c){var a,g,e,f,h=this.getListenersAsObject(b);for(e in h)if(h.hasOwnProperty(e))for(g=
h[e].length;g--;)a=h[e][g],!0===a.once&&this.removeListener(b,a.listener),f=a.listener.apply(this,c||[]),f===this._getOnceReturnValue()&&this.removeListener(b,a.listener);return this};a.trigger=e("emitEvent");a.emit=function(b){var c=Array.prototype.slice.call(arguments,1);return this.emitEvent(b,c)};a.setOnceReturnValue=function(b){return this._onceReturnValue=b,this};a._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0};a._getEvents=function(){return this._events||
(this._events={})};f.noConflict=function(){return l.EventEmitter=g,f};"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return f}):"object"==typeof module&&module.exports?module.exports=f:this.EventEmitter=f}).call(this);
(function(f){function h(a){var b=f.event;return b.target=b.target||b.srcElement||a,b}var e=document.documentElement,a=function(){};e.addEventListener?a=function(a,b,c){a.addEventListener(b,c,!1)}:e.attachEvent&&(a=function(a,b,c){a[b+c]=c.handleEvent?function(){var b=h(a);c.handleEvent.call(c,b)}:function(){var b=h(a);c.call(a,b)};a.attachEvent("on"+b,a[b+c])});var l=function(){};e.removeEventListener?l=function(a,b,c){a.removeEventListener(b,c,!1)}:e.detachEvent&&(l=function(a,b,c){a.detachEvent("on"+
b,a[b+c]);try{delete a[b+c]}catch(d){a[b+c]=void 0}});e={bind:a,unbind:l};"function"==typeof define&&define.amd?define("eventie/eventie",e):f.eventie=e})(this);
(function(f,h){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(e,a){return h(f,e,a)}):"object"==typeof exports?module.exports=h(f,require("eventEmitter"),require("eventie")):f.imagesLoaded=h(f,f.EventEmitter,f.eventie)})(this,function(f,h,e){function a(a,b){for(var c in b)a[c]=b[c];return a}function l(a){var b=[];if("[object Array]"===p.call(a))b=a;else if("number"==typeof a.length)for(var c=0,d=a.length;d>c;c++)b.push(a[c]);else b.push(a);return b}
function g(b,c,e){if(!(this instanceof g))return new g(b,c);"string"==typeof b&&(b=document.querySelectorAll(b));this.elements=l(b);this.options=a({},this.options);"function"==typeof c?e=c:a(this.options,c);e&&this.on("always",e);this.getImages();d&&(this.jqDeferred=new d.Deferred);var f=this;setTimeout(function(){f.check()})}function b(b){this.img=b}function c(b){this.src=b;m[b]=this}var d=f.jQuery,k=f.console,n=void 0!==k,p=Object.prototype.toString;g.prototype=new h;g.prototype.options={};g.prototype.getImages=
function(){this.images=[];for(var b=0,c=this.elements.length;c>b;b++){var a=this.elements[b];"IMG"===a.nodeName&&this.addImage(a);for(var a=a.querySelectorAll("img"),d=0,e=a.length;e>d;d++)this.addImage(a[d])}};g.prototype.addImage=function(a){a=new b(a);this.images.push(a)};g.prototype.check=function(){function b(e,q){return a.options.debug&&n&&k.log("confirm",e,q),a.progress(e),c++,c===d&&a.complete(),!0}var a=this,c=0,d=this.images.length;if(this.hasAnyBroken=!1,!d)return this.complete(),void 0;
for(var e=0;d>e;e++){var f=this.images[e];f.on("confirm",b);f.check()}};g.prototype.progress=function(a){this.hasAnyBroken=this.hasAnyBroken||!a.isLoaded;var b=this;setTimeout(function(){b.emit("progress",b,a);b.jqDeferred&&b.jqDeferred.notify&&b.jqDeferred.notify(b,a)})};g.prototype.complete=function(){var b=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var a=this;setTimeout(function(){if(a.emit(b,a),a.emit("always",a),a.jqDeferred)a.jqDeferred[a.hasAnyBroken?"reject":"resolve"](a)})};d&&(d.fn.imagesLoaded=
function(a,b){return(new g(this,a,b)).jqDeferred.promise(d(this))});b.prototype=new h;b.prototype.check=function(){var a=m[this.img.src]||new c(this.img.src);if(a.isConfirmed)return this.confirm(a.isLoaded,"cached was confirmed"),void 0;if(this.img.complete&&void 0!==this.img.naturalWidth)return this.confirm(0!==this.img.naturalWidth,"naturalWidth"),void 0;var b=this;a.on("confirm",function(a,c){return b.confirm(a.isLoaded,c),!0});a.check()};b.prototype.confirm=function(a,b){this.isLoaded=a;this.emit("confirm",
this,b)};var m={};return c.prototype=new h,c.prototype.check=function(){if(!this.isChecked){var a=new Image;e.bind(a,"load",this);e.bind(a,"error",this);a.src=this.src;this.isChecked=!0}},c.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},c.prototype.onload=function(a){this.confirm(!0,"onload");this.unbindProxyEvents(a)},c.prototype.onerror=function(a){this.confirm(!1,"onerror");this.unbindProxyEvents(a)},c.prototype.confirm=function(a,b){this.isConfirmed=!0;this.isLoaded=
a;this.emit("confirm",this,b)},c.prototype.unbindProxyEvents=function(a){e.unbind(a.target,"load",this);e.unbind(a.target,"error",this)},g});
