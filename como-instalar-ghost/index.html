<!DOCTYPE html>
<html>
  <head>
    <meta
      name="google-site-verification"
      content="gO0C3waQo_Srk8NAsXcUn50_hd-CY_DQb-a_ajojz-U"
    />

    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <title>Cómo instalar Ghost</title>
    <meta
      name="description"
      content="Ghost es una plataforma de blogging, bajo mi punto de vista una buena alternativa a Wordpress."
    />

    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="../assets/favicon_v%3D037246b580.png" />

    <link rel="stylesheet" type="text/css" href="../assets/css/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="../assets/css/style.css" />
    <link rel="stylesheet" type="text/css" href="../assets/css/miguelra.css" />

    <link rel="canonical" href="http://www.miguelra.com/como-instalar-ghost/" />
    <meta name="referrer" content="no-referrer-when-downgrade" />
    <link
      rel="amphtml"
      href="http://www.miguelra.com/como-instalar-ghost/amp/"
    />

    <meta property="og:site_name" content="Miguel Rodríguez" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Cómo instalar Ghost" />
    <meta
      property="og:description"
      content="Ghost es una plataforma de blogging, bajo mi punto de vista una buena alternativa a Wordpress."
    />
    <meta
      property="og:url"
      content="http://www.miguelra.com/como-instalar-ghost/"
    />
    <meta
      property="og:image"
      content="http://www.miguelra.com/content/images/2016/11/ghost.jpg"
    />
    <meta
      property="article:published_time"
      content="2016-11-23T21:25:01.000Z"
    />
    <meta property="article:modified_time" content="2016-12-08T01:59:09.000Z" />
    <meta property="article:tag" content="Ghost" />
    <meta property="article:tag" content="Node.js" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Cómo instalar Ghost" />
    <meta
      name="twitter:description"
      content="Ghost es una plataforma de blogging, bajo mi punto de vista una buena alternativa a Wordpress."
    />
    <meta
      name="twitter:url"
      content="http://www.miguelra.com/como-instalar-ghost/"
    />
    <meta
      name="twitter:image"
      content="http://www.miguelra.com/content/images/2016/11/ghost.jpg"
    />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="Miguel Rodríguez" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Ghost, Node.js" />

    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Article",
        "publisher": {
          "@type": "Organization",
          "name": "Miguel Rodríguez",
          "logo": "http://www.miguelra.com/content/images/2016/11/logo.png"
        },
        "author": {
          "@type": "Person",
          "name": "Miguel Rodríguez",
          "image": "http://www.miguelra.com/content/images/2016/11/profile.jpg",
          "url": "http://www.miguelra.com/author/miguel/",
          "sameAs": [],
          "description": "¡Hey! Soy Miguel, tengo 24 años y soy desarrollador web, lo que más me gusta de mi trabajo es estar en constante aprendizaje, al tanto de las últimas noticias y trastear con nuevas ideas."
        },
        "headline": "Cómo instalar Ghost",
        "url": "http://www.miguelra.com/como-instalar-ghost/",
        "datePublished": "2016-11-23T21:25:01.000Z",
        "dateModified": "2016-12-08T01:59:09.000Z",
        "image": "http://www.miguelra.com/content/images/2016/11/ghost.jpg",
        "keywords": "Ghost, Node.js",
        "description": "Ghost es una plataforma de blogging, bajo mi punto de vista una buena alternativa a Wordpress.",
        "mainEntityOfPage": {
          "@type": "WebPage",
          "@id": "http://www.miguelra.com"
        }
      }
    </script>

    <script
      type="text/javascript"
      src="../shared/ghost-url.min_v%3D037246b580.js"
    ></script>
    <script type="text/javascript">
      ghost.init({
        clientId: "ghost-frontend",
        clientSecret: "d1a707dee088",
      });
    </script>
    <meta name="generator" content="Ghost 0.11" />
    <link
      rel="alternate"
      type="application/rss+xml"
      title="Miguel Rodríguez"
      href="http://www.miguelra.com/rss/"
    />
  </head>

  <body class="post-template tag-ghost-tag tag-node-js">
    <header
      id="masthead"
      class="
        blog-background
        overlay
        align-center align-middle
        animated
        from-bottom
      "
      style="background-image: url(../content/images/2016/11/ghost.jpg)"
    >
      <div class="inner">
        <div class="container">
          <a class="brand light" href="http://www.miguelra.com" role="banner">
            <img src="../content/images/2016/11/logo.png" alt="Blog Logo" />
          </a>
          <h1 class="blog-title light">Miguel Rodríguez</h1>
          <h2 class="blog-description light bordered bordered-top"></h2>
        </div>
      </div>
      <div class="decor-wrapper">
        <svg
          id="header-decor"
          class="decor bottom"
          xmlns="http://www.w3.org/2000/svg"
          version="1.1"
          viewBox="0 0 100 100"
          preserveAspectRatio="none"
        >
          <path
            class="large left"
            d="M0 0 L50 50 L0 100"
            fill="rgba(255,255,255, .1)"
          />
          <path
            class="large right"
            d="M100 0 L50 50 L100 100"
            fill="rgba(255,255,255, .1)"
          />

          <path
            class="medium left"
            d="M0 100 L50 50 L0 33.3"
            fill="rgba(255,255,255, .3)"
          />
          <path
            class="medium right"
            d="M100 100 L50 50 L100 33.3"
            fill="rgba(255,255,255, .3)"
          />

          <path
            class="small left"
            d="M0 100 L50 50 L0 66.6"
            fill="rgba(255,255,255, .5)"
          />
          <path
            class="small right"
            d="M100 100 L50 50 L100 66.6"
            fill="rgba(255,255,255, .5)"
          />

          <path
            d="M0 99.9 L50 49.9 L100 99.9 L0 99.9"
            fill="rgba(255,255,255, 1)"
          />

          <path d="M48 52 L50 49 L52 52 L48 52" fill="rgba(255,255,255, 1)" />
        </svg>
      </div>
    </header>

    <div id="main" class="content" role="main">
      <div class="container">
        <div class="row">
          <article class="post tag-ghost-tag tag-node-js post post col-md-9">
            <header class="post-header">
              <h1 class="post-title text-center hyper lighter bordered-bottom">
                Cómo instalar Ghost
              </h1>
              <div class="post-info text-center small">
                <time datetime="2016-11-23" class="post-time">23/11/2016</time>
                en
                <span class="post-tags"
                  ><a href="../tag/ghost-tag/">Ghost</a>,
                  <a href="../tag/node-js/">Node.js</a></span
                >
              </div>
            </header>
            <div class="post-body bordered-bottom">
              <div class="addthis_inline_share_toolbox"></div>
              <h2 id="porqughost">¿Por qué Ghost?</h2>

              <p>
                Antes que nada para el que no sepa Ghost es una plataforma de
                blogging, bajo mi punto de vista una buena alternativa a
                Wordpress.
              </p>

              <h2 id="quenosofrece">¿Que nos ofrece?</h2>

              <p>
                Como sabemos Wordpress es un gran CMS pero si realmente no
                necesitamos usar todas sus características para que vamos a
                saturar los recursos de nuestro server.
              </p>

              <p>Ghost es mucho más ligero y rápido.</p>

              <h2 id="cmoempezamos">¿Cómo empezamos?</h2>

              <p>
                Antes que nada necesitamos un server, para este caso voy a usar
                DigitalOcean y aunque ya tiene una opción para instalarlo
                automáticamente, voy a ir por el camino más largo, así soy
                (Quererme :3)
              </p>

              <p>
                Podéis usar este enlace para obtener un cupón de 10$ en
                DigitalOcean que os servirá para dos meses de servicio :D
              </p>

              <p>
                <a href="https://m.do.co/c/474bf272f3c9" target="_blank"
                  >https://m.do.co/c/474bf272f3c9</a
                >
              </p>

              <h2 id="instalamoslasdependencias">
                Instalamos las dependencias
              </h2>

              <h3 id="instalarnodedesdeelrepositorio">
                Instalar node desde el repositorio
              </h3>

              <p>Ejecuta los siguientes comandos para instalar Node.js</p>

              <pre><code class="language-bash">curl -sL https://rpm.nodesource.com/setup_6.x | bash -  
yum install -y nodejs  
</code></pre>

              <p>
                En mi caso estoy usando CentOS, si usáis otra distribución
                podéis ver exactamente como instalarlo en el siguiente
                <a
                  href="https://github.com/nodesource/distributions"
                  target="_blank"
                  >enlace</a
                >
              </p>

              <h3 id="descargareinstalarghost">Descargar e instalar Ghost</h3>

              <p>Descarga y descomprime Ghost con los siguientes comandos:</p>

              <pre><code class="language-bash">mkdir -p /var/www  
cd /var/www  
curl -L -O https://ghost.org/zip/ghost-latest.zip  
unzip -d ghost ghost-latest.zip  
</code></pre>

              <h3 id="instalarlasdependencias">Instalar las dependencias</h3>

              <pre><code class="language-bash">cd ghost  
sudo npm install --production  
</code></pre>

              <p>
                Podemos tener problemas con este último comando ya que consume
                mucha RAM y si el servidor tiene los suficientes recursos no
                acaba la instalación.
              </p>

              <h2 id="crearusuario">Crear usuario</h2>

              <p>
                Por motivos de seguridad vamos a crear un usuario que será el
                responsable de ejecutar node, ya que si tenemos una
                vulnerabilidad en nuestro server que el usuario no tenga los
                permisos de root, si ya tienes un usuario puedes omitir este
                paso.
              </p>

              <pre><code class="language-bash">useradd ghost  
chown -R ghost:ghost /var/www/ghost/  
</code></pre>

              <p>
                Sólo nos queda editar la configuración para ello <br />
                nano config.example.js
              </p>

              <p>
                En el bloque de producción buscamos la linea <br />
                host: '127.0.0.1' y la cambiamos por host: '0.0.0.0'
              </p>

              <p>Ahora nos logeamos con este usuario</p>

              <pre><code class="language-bash">su - ghost  
cd /var/www/ghost/  
</code></pre>

              <p>Y Ya podemos iniciar Ghost!</p>

              <pre><code class="language-bash">npm start --production  
</code></pre>

              <p>
                Visita
                <a href="http://dirección-ip:2368">http://dirección-ip:2368</a>
              </p>

              <h2 id="cmomantenemosesteprocesosiempreactivo">
                ¿Cómo mantenemos este proceso siempre activo?
              </h2>

              <p>
                Pues para esto vamos a usar PM2, que es un gestor de procesos
                para Node.js y se encargará de mantener nuestro servidor activo
                hasta que lo paremos manualmente. <br />
                Para instalarlo ejecutamos estos comandos
              </p>

              <pre><code class="language-bash">cd /var/www/ghost  
sudo npm install -g pm2  
</code></pre>

              <p>
                Una vez tenemos instalado vamos a modificar la variable de
                entorno del sistema para que node se ejecute siempre en modo
                producción
              </p>

              <pre><code class="language-bash">echo "export NODE_ENV=production" &gt;&gt; ~/.profile  
source ~/.profile  
</code></pre>

              <p>Ahora podemos arrancar el proceso con el siguiente comando</p>

              <pre><code class="language-bash">pm2 start index.js --name ghost  
</code></pre>

              <p>
                En este caso le pasamos “ghost” como alias para el proceso
                <br />
                Podemos ver información más información del proceso que está en
                ejecución, con el siguiente comando.
              </p>

              <pre><code class="language-bash">pm2 show ghost  
</code></pre>

              <p>
                <mark>¡Importante!</mark> Si queremos que cuando se inicie el
                servidor también se inicie pm2 con los procesos abiertos en este
                instante, tenemos que ejecutar los siguientes comandos.
              </p>

              <pre><code class="language-bash">pm2 startup centos  
pm2 save  
</code></pre>

              <p>
                En el primer comando tenemos que indicarle el sistema operativo,
                en mi caso estoy corriendo CentOS, algun ejemplo más sería con
                &lt; centos, redhat, gentoo, systemd, darwin, amazon, ... >
              </p>

              <h2 id="comoredirigirelpuerto80anuestroblogenelpuerto2368">
                Como redirigir el puerto 80 a nuestro blog en el puerto 2368
              </h2>

              <p>
                Si solo vamos a querer instalar ghost en este server podemos
                omitir este paso, ya que podemos configurar el puerto en la
                configuración del mismo, pero en mi caso voy a hacerlo con Nginx
                para configurar varios sitios en mi servidor.
              </p>

              <p>
                Lo primero es instalar Nginx :), para ello agregamos el
                repositorio agregando las siguientes lineas en
                /etc/yum.repos.d/nginx.repo :
              </p>

              <pre><code class="language-markup">[nginx]
name=nginx repo  
baseurl=http://nginx.org/packages/centos/$releasever/$basearch/  
gpgcheck=0  
enabled=1  
</code></pre>

              <p>
                Lo dicho estoy usando CentOS, para otros sistemas operativos
                mirar exactamente como se instala Nginx
              </p>

              <p>Ahora ya lo podemos instalar con</p>

              <pre><code class="language-bash">sudo yum install nginx -y  
sudo systemctl start nginx  
</code></pre>

              <p>
                Ahora con Nginx y nuestro blog funcionando, ya podemos <br />
                agregar la configuración de nuestro sitio.
              </p>

              <p>
                Para ello necesitamos agregar en la carpeta de configuración de
                Nginx /etc/nginx/conf.d/ (Directorio en CentOS), el archivo de
                configuración de nuestro sitio. <br />
                Lo más recomendado es llamar a este archivo como el nombre de
                dominio, por ejemplo: mi-dominio.com.conf <br />
                Una vez tengamos el archivo agregaremos las siguientes lineas:
              </p>

              <pre><code class="language-nginx">server {  
    listen 80;
    server_name mi-dominio.com;
    location / {
        proxy_set_header   X-Real-IP $remote_addr;
        proxy_set_header   Host      $http_host;
        proxy_pass         http://127.0.0.1:2368;
    }
}
</code></pre>

              <p>Y reiniciamos el servicio</p>

              <pre><code class="language-bash">sudo systemctl restart nginx  
</code></pre>

              <h2 id="conclusion">Conclusion</h2>

              <p>
                Hoy aprendimos a instalar la plataforma de Blog Ghost en nuestro
                servidor. También aprendimos a gestionar procesos con PM2.
                <br />
                Ahora ya podemos empezar a usar nuestro blog ligero pero potente
                Ghost junto con Node.js, PM2 y Nginx <br />
                En este tutorial hemos instalado con éxito el sistema
              </p>
            </div>

            <footer class="post-footer">
              <div class="post-share text-center">
                <p class="light">
                  ¿Te ha gustado este artículo? compartelo para que más gente
                  también pueda leerlo ☺️
                </p>
                <div class="addthis_inline_share_toolbox_ypuz"></div>
              </div>

              <div class="post-author text-center">
                <img
                  src="../content/images/2016/11/profile.jpg"
                  itemprop="image"
                  class="post-avatar img-circle img-responsive"
                />
                <h4 class="bordered-bottom">Miguel Rodríguez</h4>
                <p>
                  ¡Hey! Soy Miguel, tengo 24 años y soy desarrollador web, lo
                  que más me gusta de mi trabajo es estar en constante
                  aprendizaje, al tanto de las últimas noticias y trastear con
                  nuevas ideas.
                </p>
              </div>

              <div class="post-comments text-center">
                <div id="disqus_thread"></div>
                <script>
                  (function () {
                    // DON'T EDIT BELOW THIS LINE
                    var d = document,
                      s = d.createElement("script");
                    s.src = "//miguelra.disqus.com/embed.js";
                    s.setAttribute("data-timestamp", +new Date());
                    (d.head || d.body).appendChild(s);
                  })();
                </script>
              </div>
            </footer>
          </article>
        </div>
      </div>
    </div>

    <div class="reading-time-indicator js-post-sticky-footer">
      <div class="post-reading-time visible js-post-reading-time">
        <div class="percent js-percent-count">0%</div>
        <progress value="0" class="read-progress-indicator single">
          <div class="progress-container">
            <span class="progress-bar"></span>
          </div>
        </progress>
        <div class="read-estimation">
          <div class="read-estimation-content">
            <div class="title">Cómo instalar Ghost</div>
            <div class="estimated-time">
              <span class="js-word-count"></span> palabras -
              <span class="eta"></span>.
            </div>
          </div>
        </div>
      </div>
      <div class="js-prev-next-post prev-next-post">
        <div class="prev-block">
          <a href="../como-optimizar-la-velocidad-de-la-base-de-datos/">
            <span class="image">
              <img
                src="../content/images/2016/12/database.jpg"
                class="post-image-thumbnail"
              />
            </span>
            <span class="description">
              <span class="prev-next-label">Anterior</span>
              <span class="post-title"
                >¿Cómo optimizar la velocidad de la base de datos?</span
              >
            </span>
          </a>
        </div>
        <div class="next-block">
          <a href="../como-agregar-un-buscador-a-ghost/">
            <span class="image">
              <img
                src="../content/images/2016/12/buscador.jpg"
                class="post-image-thumbnail"
              />
            </span>
            <span class="description">
              <span class="prev-next-label">Siguiente</span>
              <span class="post-title">Cómo agregar un buscador a Ghost</span>
            </span>
          </a>
        </div>
      </div>
    </div>

    <footer
      id="footer"
      class="blog-background overlay text-center align-middle animated from-top"
      style="
        background-image: url(../content/images/2016/12/background-coding.jpg);
      "
    >
      <div class="inner">
        <div class="container">
          <ul class="social-icons">
            <li>
              <a href="https://github.com/miguel-ra">
                <i class="icon-github"></i>
              </a>
            </li>
            <li>
              <a href="http://codepen.io/miguelra/">
                <i class="icon-codepen"></i>
              </a>
            </li>
            <li>
              <a href="https://twitter.com/theRollerShark">
                <i class="icon-twitter"></i>
              </a>
            </li>
            <li>
              <a href="http://www.facebook.com/miguelrodriguezamarelle">
                <i class="icon-facebook"></i>
              </a>
            </li>
            <li>
              <a href="https://es.linkedin.com/in/miguelrodriguezamarelle">
                <i class="icon-linkedin"></i>
              </a>
            </li>
          </ul>
          <p class="copy-text">Copyright © 2016 MiguelRA.</p>
        </div>
      </div>
      <div class="decor-wrapper">
        <svg
          id="footer-decor"
          class="decor top"
          xmlns="http://www.w3.org/2000/svg"
          version="1.1"
          viewBox="0 0 100 100"
          preserveAspectRatio="none"
        >
          <path
            class="large left"
            d="M0 0 L50 50 L0 100"
            fill="rgba(255,255,255, .1)"
          />
          <path
            class="large right"
            d="M100 0 L50 50 L100 100"
            fill="rgba(255,255,255, .1)"
          />

          <path
            class="medium left"
            d="M0 0 L50 50 L0 66.6"
            fill="rgba(255,255,255, .3)"
          />
          <path
            class="medium right"
            d="M100 0 L50 50 L100 66.6"
            fill="rgba(255,255,255, .3)"
          />

          <path
            class="small left"
            d="M0 0 L50 50 L0 33.3"
            fill="rgba(255,255,255, .5)"
          />
          <path
            class="small right"
            d="M100 0 L50 50 L100 33.3"
            fill="rgba(255,255,255, .5)"
          />

          <path d="M0 0 L50 50 L100 0 L0 0" fill="rgba(255,255,255, 1)" />

          <path d="M48 48 L50 51 L52 48 L48 48" fill="rgba(255,255,255, 1)" />
        </svg>
      </div>
    </footer>

    <script
      type="text/javascript"
      src="https://code.jquery.com/jquery-1.12.0.min.js"
    ></script>
    <script
      type="text/javascript"
      src="../assets/vendor/polyfills/promise.min_v%3D037246b580.js"
    ></script>
    <script type="text/javascript">
      var load = (function () {
        function _load(tag) {
          return function (url) {
            // This promise will be used by Promise.all to determine success or failure
            return new Promise(function (resolve, reject) {
              var element = document.createElement(tag);
              var parent = "body";
              var attr = "src";

              // Important success and error for the promise
              element.onload = function () {
                resolve(url);
              };
              element.onerror = function () {
                reject(url);
              };

              // Need to set different attributes depending on tag type
              switch (tag) {
                case "script":
                  element.async = true;
                  break;
                case "link":
                  element.type = "text/css";
                  element.rel = "stylesheet";
                  attr = "href";
                  parent = "head";
              }

              // Inject into document to kick off loading
              element[attr] = url;
              document[parent].appendChild(element);
            });
          };
        }

        return {
          css: _load("link"),
          js: _load("script"),
        };
      })();

      (function loadFiles() {
        load.css("/assets/vendor/prism/css/prism.css?v=037246b580");
        load.css("/assets/vendor/sweetalert/sweetalert.css?v=037246b580");

        Promise.all([
          load.js("/assets/vendor/polyfills/fetch.min.js?v=037246b580"),
          load.js("/assets/vendor/waypoints/waypoints.min.js?v=037246b580"),
          load.js("/assets/vendor/bootstrap/bootstrap.min.js?v=037246b580"),
          load.js("/assets/vendor/sweetalert/sweetalert.min.js?v=037246b580"),
          load.js("/assets/vendor/readingtime/readingtime.min.js?v=037246b580"),
          load.js("/assets/vendor/ghosthunter/ghostHunter.min.js?v=037246b580"),
          load.js(
            "/assets/vendor/imagesloaded/imagesloaded.min.js?v=037246b580"
          ),
        ]).then(function () {
          load.js("/assets/js/script.js?v=037246b580").then(function () {
            load.js(
              "//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-584883ec5377771d&domready=1"
            );
            load.js("/assets/vendor/prism/js/prism.min.js?v=037246b580");
          });
        });
      })();
    </script>
  </body>
</html>
